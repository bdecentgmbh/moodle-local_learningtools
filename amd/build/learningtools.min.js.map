{"version":3,"sources":["../src/learningtools.js"],"names":["define","$","str","learning_tools_action","viewbookmarks","viewnote","fabbuttonhtml","insertBefore","on","hasClass","removeClass","addClass","disappertimenotify","setTimeout","empty","bookmarkstring","get_string","when","done","bookmarkstr","bookmarkhtml","M","cfg","wwwroot","insertAfter","notestring","notestr","notehtml","init"],"mappings":"AAAAA,OAAM,qCAAC,CAAC,QAAD,CAAW,UAAX,CAAD,CAAyB,SAASC,CAAT,CAAYC,CAAZ,CAAiB,CAE5C,QAASC,CAAAA,CAAT,CAA+BC,CAA/B,CAA8CC,CAA9C,CAAwD,CAGpDJ,CAAC,CAACK,aAAD,CAAD,CAAiBC,YAAjB,CAA8B,QAA9B,EACAN,CAAC,CAAC,sCAAD,CAAD,CAA0CO,EAA1C,CAA6C,OAA7C,CAAsD,UAAU,CAC5D,GAAIP,CAAC,CAAC,qBAAD,CAAD,CAAyBQ,QAAzB,CAAkC,MAAlC,CAAJ,CAA+C,CAC3CR,CAAC,CAAC,qBAAD,CAAD,CAAyBS,WAAzB,CAAqC,MAArC,CACH,CAFD,IAEM,CACFT,CAAC,CAAC,qBAAD,CAAD,CAAyBU,QAAzB,CAAkC,MAAlC,CACH,CACJ,CAND,EAQA,GAA0B,CAAtB,EAAAC,kBAAJ,CAA6B,CACzBC,UAAU,CAAC,UAAY,CACnBZ,CAAC,CAAC,oBAAD,CAAD,CAAwBa,KAAxB,EACH,CAFS,CAEPF,kBAFO,CAGb,CAKD,GAAIG,CAAAA,CAAc,CAAGb,CAAG,CAACc,UAAJ,CAAe,WAAf,CAA4B,qBAA5B,CAArB,CACAf,CAAC,CAACgB,IAAF,CAAOF,CAAP,EAAuBG,IAAvB,CAA4B,SAASC,CAAT,CAAsB,CAC9C,GAAIC,CAAAA,CAAY,CAAG,aAAcC,CAAC,CAACC,GAAF,CAAMC,OAApB,+TAEoGJ,CAFpG,CAEiH,SAFpI,CAGA,GAAIf,CAAJ,CAAmB,CACdH,CAAC,CAACmB,CAAD,CAAD,CAAgBI,WAAhB,CAA4B,yCAA5B,CACJ,CACJ,CAPD,EASA,GAAIC,CAAAA,CAAU,CAAGvB,CAAG,CAACc,UAAJ,CAAe,MAAf,CAAuB,qBAAvB,CAAjB,CACAf,CAAC,CAACgB,IAAF,CAAOQ,CAAP,EAAmBP,IAAnB,CAAwB,SAASQ,CAAT,CAAkB,CAEtC,GAAIC,CAAAA,CAAQ,CAAG,aAAcN,CAAC,CAACC,GAAF,CAAMC,OAApB,gTAE2GG,CAF3G,CAEoH,SAFnI,CAIA,GAAIrB,CAAJ,CAAc,CACVJ,CAAC,CAAC0B,CAAD,CAAD,CAAYH,WAAZ,CAAwB,yCAAxB,CACH,CACJ,CATD,CAWH,CAED,MAAO,CACHI,IAAI,CAAE,cAASxB,CAAT,CAAwBC,CAAxB,CAAkC,CACpCF,CAAqB,CAACC,CAAD,CAAgBC,CAAhB,CACxB,CAHE,CAKV,CApDK,CAAN","sourcesContent":["define(['jquery', 'core/str'], function($, str) {\r\n\r\n    function learning_tools_action(viewbookmarks, viewnote) {\r\n\r\n        //add fab button\r\n        $(fabbuttonhtml).insertBefore(\"footer\");\r\n        $(\".floating-button #tool-action-button\").on('click', function(){\r\n            if ($(\".list-learningtools\").hasClass('show')) {\r\n                $(\".list-learningtools\").removeClass('show');\r\n            } else{\r\n                $(\".list-learningtools\").addClass('show');\r\n            }\r\n        });\r\n    \r\n        if (disappertimenotify != 0) {\r\n            setTimeout(function () {\r\n                $(\"span.notifications\").empty();\r\n            }, disappertimenotify);\r\n        } \r\n        /*<a href=\"http://localhost/moodle/moodle-311/grade/report/overview/index.php\" class=\"dropdown-item menu-action\" role=\"menuitem\" data-title=\"grades,grades\" aria-labelledby=\"actionmenuaction-3\">\r\n                                <i class=\"icon fa fa-table fa-fw \" aria-hidden=\"true\"></i>\r\n                                <span class=\"menu-action-text\" id=\"actionmenuaction-3\">Grades</span>\r\n                        </a>*/\r\n        var bookmarkstring = str.get_string('bookmarks', 'local_learningtools');\r\n        $.when(bookmarkstring).done(function(bookmarkstr) {\r\n            var bookmarkhtml = '<a href=\"' + M.cfg.wwwroot + '/local/learningtools/ltool/bookmarks/ltbookmarks_list.php\" class=\"dropdown-item menu-action\"'+ \r\n            'role=\"menuitem\" data-title=\"bookmark,bookmarks\" aria-labelledby=\"actionmenuaction-custom\" >' + \r\n            '<i class=\"icon fa fa-bookmark\" aria-hidden=\"true\"></i> <span class=\"menu-action-text\" id=\"actionmenuaction-custom\">'+ bookmarkstr +'</span>';\r\n            if (viewbookmarks) {\r\n                 $(bookmarkhtml).insertAfter(\".usermenu .dropdown-menu a:nth-child(4)\");\r\n            }\r\n        });\r\n\r\n        var notestring = str.get_string('note', 'local_learningtools');\r\n        $.when(notestring).done(function(notestr) {\r\n\r\n            var notehtml = '<a href=\"' + M.cfg.wwwroot + '/local/learningtools/ltool/note/ltnote_list.php\" class=\"dropdown-item menu-action\"'+\r\n            'role=\"menuitem\" data-title=\"note,notes\" aria-labelledby=\"actionmenuaction-custom\" >' + \r\n            '<i class=\"icon fa fa-sticky-note\" aria-hidden=\"true\"></i> <span class=\"menu-action-text\" id=\"actionmenuaction-custom\">'+ notestr +'</span>';\r\n\r\n            if (viewnote) {\r\n                $(notehtml).insertAfter(\".usermenu .dropdown-menu a:nth-child(5)\");\r\n            }\r\n        });\r\n        //console.log(val);\r\n    }\r\n\r\n    return {\r\n        init: function(viewbookmarks, viewnote) {\r\n            learning_tools_action(viewbookmarks, viewnote);\r\n        }\r\n    };\r\n});"],"file":"learningtools.min.js"}