define ("ltool_schedule/schedule",["core/fragment","core/modal_factory","core/str","core/modal_events","core/notification"],function(a,b,c,d,e){var f=function(a){var b=this,c=document.querySelector(".ltoolschedule-info #ltoolschedule-action");if(c){var d=c.getAttribute("data-hovercolor"),e=c.getAttribute("data-fontcolor");if(d&&e){c.addEventListener("mouseover",function(){document.querySelector("#ltoolschedule-action p").style.background=d;document.querySelector("#ltoolschedule-action p").style.color=e})}c.addEventListener("click",function(){b.displaySchedulebox(a)})}};f.prototype.displaySchedulebox=function(a){var f=this,g=c.get_string("schedule","local_learningtools");b.create({title:g,type:b.types.SAVE_CANCEL,body:f.getScheduleAction(a),large:!0}).then(function(b){b.show();b.getRoot().on(d.hidden,function(){b.destroy()});b.getRoot().on(d.save,function(c){c.preventDefault();var d=document.querySelectorAll("#ltoolschedule-editorbox input[name='schedulename']")[0];if(d.value){f.submitFormData(a.contextid);b.getRoot().submit();b.hide();window.location.reload()}});return b}).fail(e.exception)};f.prototype.submitFormData=function(b){var c=document.querySelectorAll("#ltoolschedule-editorbox form")[0],d=new URLSearchParams(new FormData(c)).toString();a.loadFragment("ltool_schedule","set_calendar_event",b,{formdata:d});c.submit();return!0};f.prototype.getScheduleAction=function(b){return a.loadFragment("ltool_schedule","get_schedule_form",b.contextid,b)};return{init:function init(a){return new f(a)}}});
//# sourceMappingURL=schedule.min.js.map
