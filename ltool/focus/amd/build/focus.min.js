define ("ltool_focus/focus",["jquery","core/ajax"],function(a,b){var c=function(a){var b=this,c=document.querySelector(".ltoolfocus-info"),d=document.querySelector(".ltoolfocus-info #ltoolfocus-action");if(a){b.addFocusMode(c);if(b.disableButton){if(b.disableButton.classList.contains("d-none")){b.disableButton.classList.remove("d-none")}}}if(d){d.addEventListener("click",function(){if(c){if(c.classList.contains("enable")){c.classList.remove("enable");b.focusModeAction(0);b.removeFocusMode()}else{c.classList.add("enable");b.focusModeAction(1);b.addFocusMode(c)}}});var e=d.getAttribute("data-hovercolor"),f=d.getAttribute("data-fontcolor");if(e&&f){d.addEventListener("mouseover",function(){document.querySelector("#ltoolfocus-info p").style.background=e;document.querySelector("#ltoolfocus-info p").style.color=f})}}if(b.disableButton){b.disableButton.addEventListener("click",function(){b.focusModeAction(0);b.removeFocusMode()})}};c.prototype.disableButton=document.querySelector("#page-wrapper #disable-focusmode");c.prototype.addFocusMode=function(a){var b=this,c=a.getAttribute("data-focuscssurl"),d=document.querySelectorAll("#page-header link#ltool-focuscss")[0];if(d){d.setAttribute("href",c)}b.loadEnableFocusmode()};c.prototype.removeFocusMode=function(){var a=this,b=document.querySelectorAll("#page-header link#ltool-focuscss")[0];if(b){b.setAttribute("href","")}var c=document.querySelector(".ltoolfocus-info");if(c.classList.contains("enable")){c.classList.remove("enable")}a.loadDisableFocusmode()};c.prototype.loadDisableFocusmode=function(){var a=this;if(a.disableButton){if(!a.disableButton.classList.contains("d-none")){a.disableButton.classList.add("d-none")}}};c.prototype.loadEnableFocusmode=function(){var a=this,b=document.querySelector("body");if(b){if(!b.classList.contains("drawer-open-left")){b.classList.remove("drawer-open-left")}}if(a.disableButton){a.disableButton.classList.remove("d-none")}};c.prototype.focusModeAction=function(a){b.call([{methodname:"ltool_focus_save_userfocusmode",args:{status:a},done:function done(){return!0}}])};return{init:function init(a){return new c(a)}}});
//# sourceMappingURL=focus.min.js.map
